services:
  sharehub:
    build:
      context: .
      dockerfile: Dockerfile
    image: blazesnow/sharehub:beta
    container_name: sharehub
    restart: no # unless-stopped
    cap_add:
      - SYS_ADMIN # For NFS
    volumes:
      - ./data:/sharehub
    ports:
      - 20:20
      - 21:21
      - 22:22
      - 80:80
      - 139:139
      - 443:443
      - 4455:445 # For Windows development
      - 2049:2049
      - 21100-21110:21100-21110
    environment:
      - AGREE=true
      - USERNAME=sharehub
      - PASSWORD=password
      - SHAREPATH=/sharehub
      - WRITABLE=true
      - GUEST=false
      - TZ=UTC
      - FTP=true
      - FTP_PASSIVE=true
      - SFTP=false
      - SSH=false
      - WEBDAV=false
      - SMB=false
      - NFS=false
