# ================= 核心认证设置 =================
# 禁用匿名登录（强制系统用户认证）
NoAnonymous                 yes

# 允许使用系统用户（/etc/passwd）登录
UnixAuthentication          yes

# 完全禁用虚拟用户（避免通过数据库/文件认证）
PureDB                      ""

# 禁止匿名用户上传（即使启用也无效，已禁用匿名）
AnonymousCanCreateDirs      no

# ================= 用户权限控制 =================
# 将所有用户锁定到其家目录（增强安全性）
ChrootEveryone              yes

# 允许用户覆盖目录权限（如需要可删除）
AllowUserFXP                no
AllowOverwrite              on
TrustedGID                  100

# ================= 连接限制 =================
# 最大并发用户数（根据服务器性能调整）
MaxClientsNumber            50

# 单IP最大连接数（防滥用）
MaxClientsPerIP             8

# 空闲连接超时（秒）
ClientIdleTimeout           300

# ================= 安全加固 =================
# 禁止用户使用 root 登录
MinUID                      1000

# 启用详细日志记录（记录用户操作）
VerboseLog                  yes

# 反恶意软件功能（自动断开恶意连接）
AntiWarez                   yes

# ================= 高级选项 =================
# 被动模式设置（重要：需在防火墙开放端口范围）
PassivePortRange          35000 35999

# 本地端口绑定（服务器IP，多IP时指定）
# Bind                     192.168.1.100

# 启用UTF-8文件编码（支持中文文件名）
FSCharset                   UTF-8

# ================= 性能优化 =================
# 内存使用限制（MB）
MaxLoad                     4

# 启用快速数据传输（降低延迟）
TCPFairness                 yes
