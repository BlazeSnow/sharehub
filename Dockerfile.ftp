FROM debian:12

RUN apt-get update && apt-get install vsftpd -y

COPY ./config/vsftpd.conf /etc/vsftpd.conf

COPY ./scripts/adduser.sh /srv/adduser.sh
RUN chmod 700 /srv/adduser.sh

EXPOSE 21 21100-21110

ENTRYPOINT [ "/srv/adduser.sh" ]

CMD [ "service", "vsftpd", "start" ]