FROM debian:12

RUN apt-get update && apt-get install vsftpd -y

COPY ./config/vsftpd.conf /etc/vsftpd.conf

RUN addgroup -S sharehub

COPY ./scripts/adduser.sh /srv/adduser.sh
RUN chmod 700 /srv/adduser.sh

COPY ./scripts/ftp.sh /srv/ftp.sh
RUN chmod 700 /srv/ftp.sh

EXPOSE 20 21 21100-21110

CMD [ "/srv/ftp.sh" ]